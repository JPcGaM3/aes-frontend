services:
    frontend:
        build:
            context: ./
            dockerfile: dockerfile.app
            args:
                NEXT_PUBLIC_API_URL: http://localhost:8081
                API_URL: http://aes-backend:8080
                NODE_ENV: production
        container_name: aes-frontend
        environment:
            - NODE_ENV=production
        ports:
            - "3001:3000"
        networks:
            aes-network:
                ipv4_address: 172.28.5.3

networks:
    aes-network:
        driver: bridge
        external: true
        ipam:
            config:
                - subnet: 172.28.5.0/24
                  gateway: 172.28.5.1
                  ip_range: 172.28.5.0/24
